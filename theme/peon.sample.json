{
  "watch":{
    "src": "src",
    "dest": "pyco/themes/dev",
    "clean": true,
    "server": true,
    "pyco": "pyco",
    "skip_includes": "html"
  },
  "packing":{
    "zip":{
      "cwd":"pyco/themes/dev",
      "file":"simba.zip",
      "include_hidden":false,
      "include_peon_config":false,
      "excludes":[]
    },
    "upload":{
      "cwd":"pyco/themes/dev",
      "file":"simba.zip",
      "headers":{
        "SecretKey":"<key>"
      },
      "url":"<api>/<app_type>/<app_alias>/develop_theme",
      "data":null,
      "params":null
    }
  },
  "transport":{
    "upload":{
      "cwd":"pyco/content",
      "replace": [
        {
          "pattern":"/$uploads/",
          "replacement":"<static_host>/<owner/<app_alias>/"
        }
      ],
      "headers":{
        "content-type": "application/json",
        "SecretKey":"<key>"
      },
      "url":"<api>/<app_type>/<app_alias>/develop_sync_sitedata"
    },
    "download":{
      "dest":"pyco/content",
      "replace": [
        {
          "pattern":"<static_host>/<owner/<app_alias>/", 
          "replacement":"/$uploads/"
        }
      ],
      "headers":{
        "SecretKey":"<key>"
      },
      "url":"<api>/<app_type>/<app_alias>/develop_sync_sitedata"
    }
  },
  "release":{
    "clean": ["build", "dist"],
    "render":{
      "cwd": "src",
      "dest": "build",
      "skip_includes":["html"]
    },
    "copy":{
      "scripts":{
        "src": [
          "**/*"
        ],
        "cwd": "build",
        "dest": "dist"
      },
      "assets":{
        "flatten": true,
        "src": [
          "**/*.ttf",
          "**/*.woff*",
          "**/*.png",
          "**/*.jpg",
          "**/*.svg",
          "!uploads/*"
        ],
        "cwd": "build",
        "dest": "dist"
      }
    },
    "compress": {
      "process_html":{
        "type": "process_html",
        "cwd": "dist",
        "src": "*.html"
      }
    },
    "replace": {
      "src": "*.min.*",
      "cwd": "dist",
      "replacements": [
        {
          "pattern": "../styles/svgdefs.svg",
          "replace": "svgdefs.svg"
        }
      ]
    },
    "scrap": {
      "src":[
        "*",
        "!*.html",
        "!*.min.*",
        "!*.png",
        "!*.jpg",
        "!*.svg",
        "!*.ttf",
        "!*.woff*"
      ],
      "cwd":"dist"
    },
    "rev":{
      "src":"*.html",
      "cwd":"dist",
      "find":"?md5=null",
      "pattern":"null"
    }
  }
}